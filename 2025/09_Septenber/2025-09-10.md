# 2025년 09월 10일 TIL 

## Fact: 자연어처리(NLP 데이터셋 정제)

### 알게 된 것 (What I learned)
- 한국어 영화 리뷰 데이터셋 분석을 해보았다.
- jupyter notebook 내에서는 데이터를 램 안의 복사본에서 처리한다. (원본은 바뀌지않음)

### 예시 코드 (Code Example)
```python
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt

# 훈련용 데이터와 테스트용 데이터를 불러옵니다.
# '\t'는 데이터가 탭(tab)으로 구분되어 있다는 의미입니다.
train_df = pd.read_csv('/home/asd/projects/Portfolio/project2/ratings_train.txt', sep='\t')
test_df = pd.read_csv('/home/asd/projects/Portfolio/project2/ratings_test.txt', sep='\t')

# 데이터가 어떻게 생겼는지 상위 5개만 출력해봅니다.
print(train_df.head())


# 훈련용 데이터의 전체적인 정보를 확인합니다.
print(train_df.info())


# 긍정(1) 리뷰와 부정(0) 리뷰가 각각 몇 개인지 확인합니다.
print(train_df['label'].value_counts())

# 1. 결측치 확인: 'document' 열에 비어있는 값이 있는지 확인합니다.
print('결측치 확인 전:', train_df.isnull().sum())

# 2. 결측치 제거: 비어있는 행(row)을 제거합니다.
train_df = train_df.dropna(subset=['document'])
print('결측치 확인 후:', train_df.isnull().sum())

# 3. 중복 데이터 확인: 중복된 리뷰가 있는지 확인합니다.
print('중복 데이터 개수:', train_df['document'].nunique(), '/', len(train_df))

# 4. 중복 데이터 제거: 중복된 리뷰를 제거합니다.
train_df.drop_duplicates(subset=['document'], inplace=True)
print('중복 제거 후 개수:', len(train_df))


# 각 리뷰의 길이를 계산해서 새로운 'length' 열을 추가합니다.
train_df['length'] = train_df['document'].apply(len)

# 리뷰 길이의 통계 정보를 확인합니다. (평균, 표준편차, 최대/최소 등)
print(train_df['length'].describe())

# 리뷰 길이 분포를 히스토그램으로 시각화합니다.
plt.hist(train_df['length'], bins=50)
plt.xlabel('length of review')
plt.ylabel('number of review')
plt.show()
```

### 참고 자료 (Reference)
- [Naver sentiment movie corpus v1.0](https://github.com/e9t/nsmc/tree/master)

### 배운 점 (Takeaway)
- 자연어 처리(NLP) 경험: 이미지 데이터가 아닌 텍스트 데이터를 다루는 방법을 배울 것.
- 최신 딥러닝 모델 활용: 자연어 처리 분야의 산업 표준인 BERT와 Hugging Face Transformers 라이브러리 사용법을 익혀야 함.
- 모델 배포까지 목표.

## Trouble Shooting: `plt show()` 에러

### 겪은 문제 (Problem)
- 데이터셋을 정제하고 시각화하려던 중 `plt show()` 에서 에러가 발생했다.
  ```bash
  UserWarning: FigureCanvasAgg is non-interactive, and thus cannot be shown plt.show()
  ```

### 원인 분석 (Cause)
- 오류의 원인: 그림을 보여줄 '화면'이 없는 환경
- Jupyter Notebook / Colab: 그림을 그리면 바로바로 보여주는 모니터와 같음.
- 현재 내 환경: 그림을 화면에 띄울 수는 없고, 프린터처럼 파일로만 저장할 수 있는 환경.

### 해결 방법 (Solution)
- `plt show()` 대신 `plt savefig()`를 사용하여 이미지를 저장.
- 또는 jupyter notebook 형태로 작업 (후자 선택)


### 배운 점 (Takeaway)
- matplotlib의 활용법을 알게 되었다.
